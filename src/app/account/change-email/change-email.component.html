<div *ngIf="success" class="alert alert-success">
    You have successfully changed your email address. We have sent a verification link to your new email address. Should you wish to recover your previous email address please check the recovery email we have sent to your old email address.
</div>
<div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
</div>
<form #emailForm="ngForm" (ngSubmit)="onSubmit(emailForm)">
    <div class="form-group">
        <input
            type="email"
            name="email" 
            class="form-control" 
            [ngModel]="email"
            email
            required
            #emailField="ngModel"
            [ngClass]="{ 'is-invalid': emailField.invalid && (emailField.touched || emailForm.submitted) }">
        <div class="invalid-feedback">A valid email address is required.</div>
    </div>
    <app-loading-button btnClass="btn btn-secondary" btnType="submit" [isSpinning]="isLoading">Update email</app-loading-button>
</form>
